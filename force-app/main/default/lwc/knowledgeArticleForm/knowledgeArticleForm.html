<template>

    <template if:true={isLoading}>
        <div style="width:100%; height:100%">
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
        </div>
    </template>

    <div class="article-form">
        <template if:true={updateRecord}>
            <h2>
                Update Knowledge Article
            </h2>
        </template>
        <template if:false={updateRecord}>
            <h2>
                Create Knowledge Article
            </h2>
        </template>

        <div class="slds-form-element">
            <lightning-input label="Title" value={kaTitle} onchange={handleChangeTitle}></lightning-input>
        </div>

        <div class="slds-form-element">
            <lightning-input label="URL Name" value={kaUrlName} onchange={handleChangeUrlName}></lightning-input>
        </div>

        <div class="slds-form-element">
            <lightning-textarea label="Content" value={kaBody} onchange={handleChangeBody} ></lightning-textarea>
        </div>

        <div class="slds-form-element">
            <lightning-combobox
                name="relatedTopic"
                label="Related Topic"
                value={topicOptionValue}
                options={topicOptions}
                onchange={handleChangeTopicOption}>
            </lightning-combobox>
        </div>
    
        <div class="slds-form-element">
            <label class="slds-form-element__label" for="textarea-id-01">Banner Image</label>
            <lightning-input-rich-text
                value={kaBannerImage}
                onchange={handleChangeBannerImage}
                formats={allowedFormats}>
            </lightning-input-rich-text>
        </div>
          
        <template if:true={updateRecord}>
            <div class="slds-modal__footer">
                <button
                    class="slds-button slds-button_neutral"
                    aria-label="Cancel and close"
                    onclick={closeModal}
                >
                    Cancel
                </button>
                <lightning-button label="Update Article" onclick={handleUpdateArticle}></lightning-button>
            </div>
        </template>
        <template if:false={updateRecord}>
            <lightning-button label="Create Article" onclick={handleCreateArticle}></lightning-button>
        </template>

        
        <!-- <lightning-button label="Test" onclick={handleClickTest}></lightning-button> -->
    </div>
</template>